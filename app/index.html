<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title></title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="bower_components/platform/platform.js"></script>

    <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->

    <link rel="import" href="bower_components/polymer/polymer.html">
    <link rel="import" href="elements/go-connect.html">
    <link rel="import" href="elements/go-data.html">
  </head>

  <body>
    <button id="changeKey">Change Key</button>

    <button id="changeQuery">Change Query</button>

    <button id="clearQuery">Clear Query</button>

    <go-connect account="773bb51eb592" app="WebComponentTest" room="lobby"></go-connect>

    <go-data key="/test2" query="{'author': 'Stan Lee'}"></go-data>


    <script src="https://cdn.goinstant.net/v1/platform.min.js"></script>
    <script>
      var data = document.querySelector('go-data');

      data.addEventListener('gotData', function(res) {
        console.log(res.detail.data);
      });

      document.getElementById('changeKey').addEventListener('click', function() {
        data.key = '/test';
      });

      document.getElementById('changeQuery').addEventListener('click', function() {
        data.query = "{'author': 'Robert Kirkman'}";
      });

      document.getElementById('clearQuery').addEventListener('click', function() {
        data.query = null;
      });
    </script>
  </body>
</html>
