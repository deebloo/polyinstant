<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title></title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="bower_components/platform/platform.js"></script>

    <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->

    <link rel="import" href="bower_components/polymer/polymer.html">
    <link rel="import" href="elements/goinstant-connect.html">
    <link rel="import" href="elements/goinstant-data.html">
  </head>

  <body>
    <go-connect account="773bb51eb592" app="WebComponentTest" room="lobby"></go-connect>

    <go-data key="/test"></go-data>

    <script src="https://cdn.goinstant.net/v1/platform.min.js"></script>
    <script>
      window.addEventListener('polymer-ready', function(e) {
        var goConnect = document.querySelector('go-connect'),
            goData = document.querySelector('go-data');

        goConnect.go().then(function(connection) {
          /*
           * Find all data from Key
           */
          goData.findAll(connection, function(data) {
            console.log(data.value);
          });

          /*
           * Find specified data based on query
           */
          goData.find(connection, {name: 'Danny'}, function(data) {
            console.log(data);
          });

          /*
           * Delete specified data from key
           */
          // goData.remove(connection, 'id-146e4bcd515-000-0');

          /*
           * Add data to specified key
           */
          // goData.add(connection, {name: 'Paul', title: 'Developer'});
        });
      });
    </script>
  </body>
</html>
